name: "MINT_TO_YVAULT_V1"

summary: "Mint yTokens using yearn V1 (warning: yearn v1 has been exploited recently!)"

variables:
  suppliedTokenAddress: address
  suppliedAmount: uint256
  yVaultAddress: address

results:
  yVaultReceivedAmount: uint256

definitions:
 - Token UNDERLYING suppliedTokenAddress
 - Token yVAULT yVaultAddress
 - Function mintYVault yVAULT deposit(uint256)
 - Token WETH 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
 - Function wrap WETH deposit():payable

inputs:
 - UNDERLYING: suppliedAmount

actions:
 - yVAULT balanceOf wallet => yVaultInitialAmount
 - if:
    condition: UNDERLYING is ETHER
    then:
       - WETH wrap:suppliedAmount
       - WETH approve yVAULT suppliedAmount
    else:
       - UNDERLYING approve yVAULT suppliedAmount
 - yVAULT mintYVault suppliedAmount
 - yVAULT balanceOf wallet => yVaultFinalAmount

operations:
 - yVaultFinalAmount - yVaultInitialAmount => yVaultReceivedAmount

outputs:
 - yVAULT: yVaultReceivedAmount

description: "Mint ~${yVaultReceivedAmount:yVAULT.decimals} ${yVAULT.symbol} using ${suppliedAmount:UNDERLYING.decimals} ${UNDERLYING.symbol}"